{% extends "base.html" %}

{% block title %}Balance{% endblock %}

{% block body %}


<nav id="mainNavbar" class="navbar navbar-light navbar-expand-xl pt-1 px-0">
  <a href="../mainmenu/index" class="navbar-brand"><i class="icon-money-1 d-none d-lg-inline"></i>PERSONAL
    BUDGET</a>
  <button class="navbar-toggler" data-toggle="collapse" data-target="#navLinks" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navLinks">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a href="../mainmenu/index" class="nav-link">Home</a>
      </li>
      <!-- <li class="nav-item">
        <a href="../expense/index" class="nav-link">Add expense</a>
      </li>
      <li class="nav-item">
        <a href="../income/index" class="nav-link">Add income</a>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle caret-off" href="#" data-toggle="dropdown" role="button" id="submenu"
          aria-expanded="false" aria-haspopup="true">Balance</a>

        <div class="dropdown-menu bg-transparent border-0 m-0 p-0" aria-labelledby="submenu">

          <a class="dropdown-item " href="#">Current month</a>
          <a class="dropdown-item " href="#">Previous month</a>
          <a class="dropdown-item " href="#">Current year</a>
          <a class="dropdown-item " href="#">Custom</a>
        </div>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle caret-off" href="#" data-toggle="dropdown" role="button" id="submenu1"
          aria-expanded="false" aria-haspopup="true"> Settings </a>

        <div class="dropdown-menu bg-transparent border-0 m-0 p-0" aria-labelledby="submenu1">

          <a class="dropdown-item" href="../profile/show">User</a>
          <a class="dropdown-item" href="#">Incomes</a>
          <a class="dropdown-item" href="#">Expenses</a>
          <a class="dropdown-item" href="#">Payment methods</a>

        </div>

      </li> -->
      <li class="nav-item">
        <a href="/logout" class="nav-link">Log out</a>
      </li>
    </ul>
  </div>

</nav>

<section class="container-fluid px-0 mx-0">

  <div class="balance-display mx-0 mb-5">
    <div class="row align-items-start justify-content-center mt-3 mt-lg-5">
      <div class="balance text-center mt-4">Balance from period: {{ startDate }} - {{ endDate }}

        <div class="display-date text-center">

        </div>
      </div>

    </div>


    <div class="row align-items-start justify-content-center ">

      <div id="expenses" class="line-h col-md-6 order-1 order-md-1 px-0">

        <div class="row justify-content-center mx-0">

          <h2 class="header display-5 p-3 mt-1 mt-lg-5">Expenses</h2>

        </div>

        <div class="row justify-content-center mx-3 mb-1">
          <div class="col-sm-12 col-lg-8">

            <table class="table table-hover table-sm">
              <thead class="thead-dark">
                <tr class="text-center">
                  <th scope="col">Category</th>
                  <th scope="col">Amount</th>
                </tr>
              </thead>
              <tbody>
                {% for sumExpensesByCategory in sumExpensesByCategories %}
                <tr>
                  <td class="pl-3">{{ sumExpensesByCategory.expense_category_name }}</td>
                  <td class="text-center">{{ sumExpensesByCategory.sum_expenses }}</td>
                </tr>
                {% endfor %}

              </tbody>
            </table>



          </div>

        </div>
      </div>

      <div id="incomes" class="line-h col-md-6 order-2 order-md-2 px-0">
        <div class="row justify-content-center mx-0">

          <h2 class="header display-5 p-3 mt-1 mt-lg-5">Incomes</h2>

        </div>
        <div class="row justify-content-center mx-3 mb-1">
          <div class="col-sm-12 col-lg-8">
            <table class="table table-hover table-sm">
              <thead class="thead-dark ">
                <tr class="text-center">
                  <th scope="col">Category</th>
                  <th scope="col">Amount</th>
                </tr>
              </thead>
              <tbody>

                {% for sumIncomesByCategory in sumIncomesByCategories %}
                <tr>
                  <td class="pl-3">{{ sumIncomesByCategory.income_category_name }}</td>
                  <td class="text-center">{{ sumIncomesByCategory.sum_incomes}}</td>
                </tr>
                {% endfor %}


              </tbody>
            </table>


          </div>
        </div>
      </div>
    </div>
    <div class="line-h row align-items-start justify-content-center">
      <h2 class="header display-5 p-3 mt-1 mt-lg-5">Individual expenses</h2>
    </div>

    <div class="row justify-content-center  mx-0 mb-1">
      <div class="col-sm-12 col-lg-8 ">
        <table class="table table-hover table-sm">
          <thead class="thead-dark">
            <tr class="text-center">
              <th scope="col">Category</th>
              <th scope="col">Amount</th>
              <th scope="col">Date</th>
              <th scope="col">Payment method</th>
              <th scope="col">Comment</th>
            </tr>
          </thead>
          <tbody>

            {% for individualExpense in individualExpenses %}
            <tr>
              <td class="pl-3">{{ individualExpense.expense_category_name }}</td>
              <td class="text-center">{{ individualExpense.amount }}</td>
              <td class="text-center">{{ individualExpense.date_of_expense }}</td>
              <td class="text-center">{{ individualExpense.payment }}</td>
              <td class="text-center">{{ individualExpense.comment }}</td>
            </tr>
            {% endfor %}

          </tbody>
        </table>


      </div>
    </div>

    <div class=" line-h row align-items-start justify-content-center">
      <h2 class="header display-5 p-3 mt-1 mt-lg-5">Individual incomes</h2>
    </div>
    <div class="row justify-content-center mx-0 mb-1">
      <div class="col-sm-12 col-lg-8">
        <table class="table table-hover table-sm">
          <thead class="thead-dark">
            <tr class="text-center">
              <th scope="col">Category</th>
              <th scope="col">Amount</th>
              <th scope="col">Date</th>
              <th scope="col">Comment</th>
            </tr>
          </thead>
          <tbody>

            {% for individualIncome in individualIncomes %}
            <tr>
              <td class="pl-3">{{ individualIncome.income_category_name }}</td>
              <td class="text-center">{{ individualIncome.amount }}</td>
              <td class="text-center">{{ individualIncome.date_of_income }}</td>
              <td class="text-center">{{ individualIncome.comment }}</td>
            </tr>
            {% endfor %}


          </tbody>
        </table>


      </div>
    </div>
    <div class="line-h row align-items-start justify-content-center">
      <h2 class="balance display-5 p-3 my-2 mb-5">Balance:

      </h2>
    </div>
  </div>
</section>




{% endblock %}